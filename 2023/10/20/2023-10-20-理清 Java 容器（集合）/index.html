<!DOCTYPE html>
<html lang=zh>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top" />
  
  
  <title>理清 Java 容器（集合） | Liangshou</title>
  <meta name="description" content="Java容器概述 Java中的容器，也就是Java 集合，是一套用于存储和组织数据的对象。容器类提供了一种将多个对象集合在一起的方式，并提供了一组方法来管理和操作这些对象。 为什么要使用Java容器？ 当我们需要存储一组类型相同的数据时，数组是最常用且最基本的容器之一。但是，在实际开发中，存储的数据类型多种多样且数量不确定，使用数组存储对象就会存在一些不足之处。与数组相比，Java 容器提供了更灵">
<meta property="og:type" content="article">
<meta property="og:title" content="理清 Java 容器（集合）">
<meta property="og:url" content="http://example.com/2023/10/20/2023-10-20-%E7%90%86%E6%B8%85%20Java%20%E5%AE%B9%E5%99%A8%EF%BC%88%E9%9B%86%E5%90%88%EF%BC%89/index.html">
<meta property="og:site_name" content="Liangshou">
<meta property="og:description" content="Java容器概述 Java中的容器，也就是Java 集合，是一套用于存储和组织数据的对象。容器类提供了一种将多个对象集合在一起的方式，并提供了一组方法来管理和操作这些对象。 为什么要使用Java容器？ 当我们需要存储一组类型相同的数据时，数组是最常用且最基本的容器之一。但是，在实际开发中，存储的数据类型多种多样且数量不确定，使用数组存储对象就会存在一些不足之处。与数组相比，Java 容器提供了更灵">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://typora-1308640872.cos.ap-beijing.myqcloud.com/img/java%E5%AE%B9%E5%99%A8%E7%B3%BB%E7%BB%9F.png">
<meta property="og:image" content="https://github.githubassets.com/images/icons/emoji/unicode/2714.png?v8">
<meta property="og:image" content="https://github.githubassets.com/images/icons/emoji/unicode/2714.png?v8">
<meta property="og:image" content="https://github.githubassets.com/images/icons/emoji/unicode/2716.png?v8">
<meta property="og:image" content="https://github.githubassets.com/images/icons/emoji/unicode/2714.png?v8">
<meta property="og:image" content="https://github.githubassets.com/images/icons/emoji/unicode/2714.png?v8">
<meta property="og:image" content="https://github.githubassets.com/images/icons/emoji/unicode/2716.png?v8">
<meta property="og:image" content="https://github.githubassets.com/images/icons/emoji/unicode/2714.png?v8">
<meta property="og:image" content="https://github.githubassets.com/images/icons/emoji/unicode/26a0.png?v8">
<meta property="og:image" content="https://github.githubassets.com/images/icons/emoji/unicode/26a0.png?v8">
<meta property="og:image" content="https://typora-1308640872.cos.ap-beijing.myqcloud.com/img/ArrayList%E7%B1%BB%E5%9B%BE.png">
<meta property="og:image" content="https://github.githubassets.com/images/icons/emoji/unicode/26a0.png?v8">
<meta property="og:image" content="https://typora-1308640872.cos.ap-beijing.myqcloud.com/img/LinkedList%E7%B1%BB%E5%9B%BE.png">
<meta property="article:published_time" content="2023-10-20T09:13:55.270Z">
<meta property="article:modified_time" content="2023-10-22T14:46:43.519Z">
<meta property="article:author" content="Liangshou">
<meta property="article:tag" content="Java">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://typora-1308640872.cos.ap-beijing.myqcloud.com/img/java%E5%AE%B9%E5%99%A8%E7%B3%BB%E7%BB%9F.png">
  <!-- Canonical links -->
  <link rel="canonical" href="http://example.com/2023/10/20/2023-10-20-%E7%90%86%E6%B8%85%20Java%20%E5%AE%B9%E5%99%A8%EF%BC%88%E9%9B%86%E5%90%88%EF%BC%89/index.html">
  
    <link rel="alternate" href="/atom.xml" title="Liangshou" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png" type="image/x-icon">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
  
  
<meta name="generator" content="Hexo 6.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head>


<body class="main-center" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="https://github.com/LiangshouX" target="_blank">
          <img class="img-circle img-rotate" src="/images/avatar.jpg" width="200" height="200">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">Liangshou</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md">软件 &amp; IT</h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Beijing, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="搜索" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav ">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">首页</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">归档</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            
            <i class="icon icon-folder"></i>
            
            <span class="menu-title">分类</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-tags">
          <a href="/tags">
            
            <i class="icon icon-tags"></i>
            
            <span class="menu-title">标签</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-repository">
          <a href="/repository">
            
            <i class="icon icon-project"></i>
            
            <span class="menu-title">项目</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-books">
          <a href="/books">
            
            <i class="icon icon-book-fill"></i>
            
            <span class="menu-title">书单</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-links">
          <a href="/links">
            
            <i class="icon icon-friendship"></i>
            
            <span class="menu-title">友链</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-about">
          <a href="/about">
            
            <i class="icon icon-cup-fill"></i>
            
            <span class="menu-title">关于</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/LiangshouX" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="/xiaoliangshou.bit@gmail.com" target="_blank" title="Email" data-toggle=tooltip data-placement=top><i class="icon icon-email"></i></a></li>
        
        <li><a href="https://juejin.cn/user/3664001491278077" target="_blank" title="Juejin" data-toggle=tooltip data-placement=top><i class="icon icon-juejin"></i></a></li>
        
        <li><a href="https://www.zhihu.com/people/grillo-72" target="_blank" title="Zhihu" data-toggle=tooltip data-placement=top><i class="icon icon-zhihu"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">公告</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p>本站点目前还未开发/测试留言功能，敬请期待!</p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">分类</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Java%E6%89%8B%E8%B4%A6%E6%9C%AC/">Java手账本</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%88%B7%E9%A2%98%E6%97%A5%E8%AE%B0/">刷题日记</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B7%A5%E5%85%B7%E5%BA%93/">工具库</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%9A%8F%E6%9C%BABUG/">随机BUG</a><span class="category-list-count">2</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">标签</h3>
    <div class="widget-body">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Github/" rel="tag">Github</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/" rel="tag">HTML</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java%E7%BA%BF%E7%A8%8B/" rel="tag">Java线程</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LeetCode/" rel="tag">LeetCode</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NowCoder/" rel="tag">NowCoder</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/emoji/" rel="tag">emoji</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/" rel="tag">hexo</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mermaid/" rel="tag">mermaid</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/" rel="tag">二叉树</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%90%8E%E7%AB%AF/" rel="tag">后端</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/" rel="tag">并发编程</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag">数据库</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" rel="tag">数据结构与算法</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A0%88/" rel="tag">栈</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/" rel="tag">滑动窗口</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%93%BE%E8%A1%A8/" rel="tag">链表</a><span class="tag-list-count">3</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">标签云</h3>
    <div class="widget-body tagcloud">
      <a href="/tags/Github/" style="font-size: 13px;">Github</a> <a href="/tags/HTML/" style="font-size: 13.4px;">HTML</a> <a href="/tags/Java/" style="font-size: 14px;">Java</a> <a href="/tags/Java%E7%BA%BF%E7%A8%8B/" style="font-size: 13px;">Java线程</a> <a href="/tags/LeetCode/" style="font-size: 13.6px;">LeetCode</a> <a href="/tags/MySQL/" style="font-size: 13px;">MySQL</a> <a href="/tags/NowCoder/" style="font-size: 13.6px;">NowCoder</a> <a href="/tags/emoji/" style="font-size: 13px;">emoji</a> <a href="/tags/hexo/" style="font-size: 13.2px;">hexo</a> <a href="/tags/mermaid/" style="font-size: 13px;">mermaid</a> <a href="/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/" style="font-size: 13px;">二叉树</a> <a href="/tags/%E5%90%8E%E7%AB%AF/" style="font-size: 13px;">后端</a> <a href="/tags/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/" style="font-size: 13px;">并发编程</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 13px;">数据库</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" style="font-size: 13.8px;">数据结构与算法</a> <a href="/tags/%E6%A0%88/" style="font-size: 13px;">栈</a> <a href="/tags/%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/" style="font-size: 13px;">滑动窗口</a> <a href="/tags/%E9%93%BE%E8%A1%A8/" style="font-size: 13.4px;">链表</a>
    </div>
  </div>

    
      
  <div class="widget">
    <h3 class="widget-title">归档</h3>
    <div class="widget-body">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/10/">十月 2023</a><span class="archive-list-count">14</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E5%88%B7%E9%A2%98%E6%97%A5%E8%AE%B0/">刷题日记</a>
              </p>
              <p class="item-title">
                <a href="/2023/10/25/2023-10-25-%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/" class="title">LC热题100-前缀和+哈希表</a>
              </p>
              <p class="item-date">
                <time datetime="2023-10-25T15:43:31.248Z" itemprop="datePublished">2023-10-25</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Java%E6%89%8B%E8%B4%A6%E6%9C%AC/">Java手账本</a>
              </p>
              <p class="item-title">
                <a href="/2023/10/25/2023-10-25-volatile%E4%B8%8Esynchronized/" class="title">你好，volatile！你好，synchronized！</a>
              </p>
              <p class="item-date">
                <time datetime="2023-10-25T12:18:17.726Z" itemprop="datePublished">2023-10-25</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E5%88%B7%E9%A2%98%E6%97%A5%E8%AE%B0/">刷题日记</a>
              </p>
              <p class="item-title">
                <a href="/2023/10/24/2023-10-24-%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/" class="title">LC热题100-无重复字符的最长子串</a>
              </p>
              <p class="item-date">
                <time datetime="2023-10-24T11:40:12.465Z" itemprop="datePublished">2023-10-24</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E5%88%B7%E9%A2%98%E6%97%A5%E8%AE%B0/">刷题日记</a>
              </p>
              <p class="item-title">
                <a href="/2023/10/23/2023-10-23-%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/" class="title">LC热题100-</a>
              </p>
              <p class="item-date">
                <time datetime="2023-10-23T00:12:00.152Z" itemprop="datePublished">2023-10-23</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E9%9A%8F%E6%9C%BABUG/">随机BUG</a>
              </p>
              <p class="item-title">
                <a href="/2023/10/21/2023-10-21-hexo%E9%83%A8%E7%BD%B2%E7%9A%84%E9%A1%B5%E9%9D%A2%E4%B8%8D%E6%94%AF%E6%8C%81emoji%E8%A1%A8%E6%83%85%E7%9A%84%E9%97%AE%E9%A2%98/" class="title">hexo渲染的页面不支持emoji表情</a>
              </p>
              <p class="item-date">
                <time datetime="2023-10-20T16:14:29.704Z" itemprop="datePublished">2023-10-21</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
  <aside class="sidebar sidebar-toc collapse   in  " id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    <nav id="toc" class="article-toc">
      <h3 class="toc-title">文章目录</h3>
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">Java容器概述</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8Java%E5%AE%B9%E5%99%A8%EF%BC%9F"><span class="toc-number">1.1.</span> <span class="toc-text">为什么要使用Java容器？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Java-%E5%AE%B9%E5%99%A8%E6%A6%82%E8%A7%88"><span class="toc-number">1.2.</span> <span class="toc-text">Java 容器概览</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">2.</span> <span class="toc-text">List</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%95%E5%B1%82%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-number">2.1.</span> <span class="toc-text">底层数据结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ArrayList"><span class="toc-number">2.2.</span> <span class="toc-text">ArrayList</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ArrayList-v-s-Array"><span class="toc-number">2.2.1.</span> <span class="toc-text">ArrayList v.s. Array</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ArrayList-v-s-Vector"><span class="toc-number">2.2.2.</span> <span class="toc-text">ArrayList v.s. Vector</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ArrayList%E6%8F%92%E5%85%A5%E5%92%8C%E5%88%A0%E9%99%A4%E5%85%83%E7%B4%A0%E7%9A%84%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6"><span class="toc-number">2.2.3.</span> <span class="toc-text">ArrayList插入和删除元素的时间复杂度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ArrayList%E6%BA%90%E7%A0%81%E6%B5%85%E6%9E%90"><span class="toc-number">2.2.4.</span> <span class="toc-text">ArrayList源码浅析</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E4%B8%8E%E7%BB%A7%E6%89%BF%E5%85%B3%E7%B3%BB"><span class="toc-number">2.2.4.1.</span> <span class="toc-text">实现与继承关系</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E6%96%B9%E6%B3%95-%E6%89%A9%E5%AE%B9%E6%9C%BA%E5%88%B6"><span class="toc-number">2.2.4.2.</span> <span class="toc-text">初始化方法&amp;扩容机制</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#LinkedList"><span class="toc-number">2.3.</span> <span class="toc-text">LinkedList</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#LinkedList-v-s-ArrayList"><span class="toc-number">2.3.1.</span> <span class="toc-text">LinkedList v.s.  ArrayList</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LinkedList%E6%BA%90%E7%A0%81%E6%B5%85%E6%9E%90"><span class="toc-number">2.3.2.</span> <span class="toc-text">LinkedList源码浅析</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E4%B8%8E%E7%BB%A7%E6%89%BF%E5%85%B3%E7%B3%BB-2"><span class="toc-number">2.3.2.1.</span> <span class="toc-text">实现与继承关系</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%83%E7%B4%A0%E5%AE%9A%E4%B9%89"><span class="toc-number">2.3.2.2.</span> <span class="toc-text">元素定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E6%96%B9%E6%B3%95"><span class="toc-number">2.3.2.3.</span> <span class="toc-text">初始化方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E6%80%BB%E7%BB%93"><span class="toc-number">2.3.2.4.</span> <span class="toc-text">常用方法总结</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#demo"><span class="toc-number">2.3.2.5.</span> <span class="toc-text">demo</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vector-Stack"><span class="toc-number">2.4.</span> <span class="toc-text">Vector &amp; Stack</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">3.</span> <span class="toc-text">Set</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%95%E5%B1%82%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-2"><span class="toc-number">3.1.</span> <span class="toc-text">底层数据结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HashSet"><span class="toc-number">3.2.</span> <span class="toc-text">HashSet</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#LinkedHashSet"><span class="toc-number">3.3.</span> <span class="toc-text">LinkedHashSet</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TreeSet"><span class="toc-number">3.4.</span> <span class="toc-text">TreeSet</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">4.</span> <span class="toc-text">Queue</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%95%E5%B1%82%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-3"><span class="toc-number">4.1.</span> <span class="toc-text">底层数据结构</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">5.</span> <span class="toc-text">Map</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%95%E5%B1%82%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-4"><span class="toc-number">5.1.</span> <span class="toc-text">底层数据结构</span></a></li></ol></li></ol>
    </nav>
  </div>
</aside>

<main class="main" role="main">
  <div class="content">
  <article id="post-2023-10-20-理清 Java 容器（集合）" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      理清 Java 容器（集合）
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2023/10/20/2023-10-20-%E7%90%86%E6%B8%85%20Java%20%E5%AE%B9%E5%99%A8%EF%BC%88%E9%9B%86%E5%90%88%EF%BC%89/" class="article-date">
	  <time datetime="2023-10-20T09:13:55.270Z" itemprop="datePublished">2023-10-20</time>
	</a>
</span>
        
  <span class="article-category">
    <i class="icon icon-folder"></i>
    <a class="article-category-link" href="/categories/Java%E6%89%8B%E8%B4%A6%E6%9C%AC/">Java手账本</a>
  </span>

        
  <span class="article-tag">
    <i class="icon icon-tags"></i>
	<a class="article-tag-link-link" href="/tags/Java/" rel="tag">Java</a>
  </span>


        
	<span class="article-read hidden-xs">
	    <i class="icon icon-eye-fill" aria-hidden="true"></i>
	    <span id="busuanzi_container_page_pv">
			<span id="busuanzi_value_page_pv">0</span>
		</span>
	</span>


        <span class="post-comment"><i class="icon icon-comment"></i> <a href="/2023/10/20/2023-10-20-%E7%90%86%E6%B8%85%20Java%20%E5%AE%B9%E5%99%A8%EF%BC%88%E9%9B%86%E5%90%88%EF%BC%89/#comments" class="article-comment-link">评论</a></span>
        
      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <h1>Java容器概述</h1>
<p>Java中的容器，也就是Java 集合，是一套用于存储和组织数据的对象。容器类提供了一种将多个对象集合在一起的方式，并提供了一组方法来管理和操作这些对象。</p>
<h2 id="为什么要使用Java容器？">为什么要使用Java容器？</h2>
<p>当我们需要存储一组类型相同的数据时，<strong>数组</strong>是最常用且最基本的容器之一。但是，在实际开发中，存储的数据类型多种多样且数量不确定，使用数组存储对象就会存在一些不足之处。与数组相比，Java 容器提供了更灵活、更有效的方法来存储多个数据对象。Java 容器框架中的各种容器类和接口可以存储不同<strong>类型和数量</strong>的对象，同时还具有多样化的操作方式。</p>
<p>相较于数组，Java 容器的优势有：</p>
<ul>
<li>大小可变</li>
<li>支持泛型</li>
<li>具有内建算法</li>
</ul>
<p>总的来说，Java 容器提高了数据的存储和处理灵活性，可以更好地适应现代软件开发中多样化的数据需求，并支持高质量的代码编写。</p>
<h2 id="Java-容器概览">Java 容器概览</h2>
<p>Java容器主要派生自两大接口：<code>Collection</code>接口和<code>Map</code>接口。前者主要用于存放单一元素，后者则主要用于存放键值对。对于<code>Collection</code>接口，其有三个主要的子接口：<code>List</code>接口、<code>Queue</code>接口、<code>Set</code>接口。Java容器的系统结构可参考下图：</p>
<p><img src="https://typora-1308640872.cos.ap-beijing.myqcloud.com/img/java%E5%AE%B9%E5%99%A8%E7%B3%BB%E7%BB%9F.png" alt="java容器系统"></p>
<blockquote>
<p>分享来源：<a href="https://www.processon.com/view/616d69c3e0b34d7c7dba91f7?fromnew=1">processon-java集合系统</a>。</p>
</blockquote>
<p><strong>List, Set, Queue, Map对比</strong></p>
<table>
<thead>
<tr>
<th>接口</th>
<th>主要用途</th>
<th style="text-align:center">元素是否有序</th>
<th style="text-align:center">元素是否可重复</th>
</tr>
</thead>
<tbody>
<tr>
<td>List</td>
<td>处理顺序相关问题</td>
<td style="text-align:center"><span class="github-emoji"><span>✔</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2714.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></td>
<td style="text-align:center"><span class="github-emoji"><span>✔</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2714.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></td>
</tr>
<tr>
<td>Set</td>
<td>注重独一无二</td>
<td style="text-align:center"></td>
<td style="text-align:center"><span class="github-emoji"><span>✖</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2716.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></td>
</tr>
<tr>
<td>Queue</td>
<td>排队功能相关</td>
<td style="text-align:center"><span class="github-emoji"><span>✔</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2714.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></td>
<td style="text-align:center"><span class="github-emoji"><span>✔</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2714.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></td>
</tr>
<tr>
<td>Map</td>
<td>基于key进行搜索</td>
<td style="text-align:center"></td>
<td style="text-align:center">key：<span class="github-emoji"><span>✖</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2716.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>  value:<span class="github-emoji"><span>✔</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2714.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<h1>List</h1>
<p>List接口是用来处理顺序相关问题的很好的工具，其特点是存储的元素是有序的、可重复的。List接口最常用的实现类包括了 <code>LinkedList</code>、<code>ArrayList</code>、<code>Stack</code>以及<code>Vector</code>等，其中<code>Stack</code>类是<code>Vector</code>类的子类。</p>
<p>List的JDK源码为：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">List</span>&lt;E&gt; <span class="keyword">extends</span> <span class="title class_">Collection</span>&lt;E&gt; </span><br></pre></td></tr></tbody></table></figure>
<h2 id="底层数据结构">底层数据结构</h2>
<ul>
<li>
<p><code>ArrayList</code>：<code>ArrayList</code>是一个可以<strong>动态增长</strong>的数组，其底层数据结构是 <code>Object[]</code>数组，在JDK源码中有如下的定义（已省略javadoc）：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Object[] EMPTY_ELEMENTDATA = {};</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Object[] DEFAULTCAPACITY_EMPTY_ELEMENTDATA = {};</span><br><span class="line"></span><br><span class="line"><span class="keyword">transient</span> Object[] elementData; </span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>在Java中，<code>transient</code> 关键字用于修饰类的<strong>实例变量</strong>。当一个实例变量被标记为 <code>transient</code> 时，它告诉Java的序列化机制不要将该变量的值持久化（即不要将其写入对象的序列化表示中），而只序列化对象的其他部分。这在对象序列化和反序列化时非常有用。</p>
</blockquote>
</li>
<li>
<p><code>LinkedList</code>：该类继承了<code>AbstractSequentialList</code>抽象类，底层的数据结构是双向链表，使用泛型定义链表节点，JDK源码（JDK17）为：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Node</span>&lt;E&gt; {</span><br><span class="line">    E item;</span><br><span class="line">    Node&lt;E&gt; next;</span><br><span class="line">    Node&lt;E&gt; prev;</span><br><span class="line"></span><br><span class="line">    Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) {</span><br><span class="line">        <span class="built_in">this</span>.item = element;</span><br><span class="line">        <span class="built_in">this</span>.next = next;</span><br><span class="line">        <span class="built_in">this</span>.prev = prev;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
</li>
<li>
<p><code>Vector</code>：该类的底层数据结构同样为<code>Object[]</code>数组，JDK源码中的定义为：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> Object[] elementData;</span><br><span class="line"></span><br><span class="line"><span class="keyword">protected</span> <span class="type">int</span> elementCount;</span><br></pre></td></tr></tbody></table></figure>
</li>
<li>
<p><code>Stack</code>：继承了<code>Vector</code>类，底层的数据结构与<code>Vector</code>一致。</p>
</li>
</ul>
<h2 id="ArrayList">ArrayList</h2>
<blockquote>
<p>推荐阅读这位大佬的文章：<a href="https://juejin.cn/post/7288963211071094842">我说ArrayList初始容量是10，面试官让我回去等通知</a>。</p>
</blockquote>
<h3 id="ArrayList-v-s-Array">ArrayList v.s. Array</h3>
<blockquote>
<p><span class="github-emoji"><span>⚠</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/26a0.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>此处的 Array 指的是普通数组，而非 <code>java.lang</code>、<code>java.sql</code> 中封装的Array类。</p>
</blockquote>
<p><code>ArrayList</code> 是一个可动态增长的数组，内部基于了动态数组实现，相较于 <code>Array</code> ，在使用上更加灵活。二者的主要区别有：</p>
<ul>
<li>
<p><code>ArrayList</code> 会根据实际存储的元素动态地扩容或缩容，而 <code>Array</code> 被创建之后就不能再改变其长度。</p>
</li>
<li>
<p><code>ArrayList</code> 中只能存储对象。对于基本类型（int、double、boolean等）数据，需要使用其对应的包装类（如 int – &gt; Integer、double --&gt; Double、boolean --&gt; Boolean 等）。<code>Array</code> 可以直接存储基本类型数据，也可以存储对象。</p>
</li>
<li>
<p><code>ArrayList</code> 支持插入、删除、遍历常见操作，并且提供了丰富的 API 操作方法，比如 <code>add()</code>、<code>remove()</code>等。<code>Array</code> 只是一个固定长度的数组，只能按照下标访问其中的元素，不具备动态添加、删除元素的能力。</p>
</li>
<li>
<p><code>ArrayList</code> 中使用泛型来根据需要确定存储数据的类型，确保了类型安全。<code>Array</code> 无此特性。</p>
</li>
<li>
<p><code>ArrayList</code>创建时不需要指定大小，而<code>Array</code>创建时必须指定大小。</p>
<blockquote>
<p><span class="github-emoji"><span>⚠</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/26a0.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>并不是说  ArrayList 创建时不能指定。特定情景下，指定大小可以减少容量重新分配的频率。示例代码：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 指定初始容量为1000</span></span><br><span class="line">ArrayList&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(<span class="number">1000</span>); </span><br></pre></td></tr></tbody></table></figure>
</blockquote>
</li>
</ul>
<p>关于二者的示例可参考以下代码：</p>
<p><code>Array</code>：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayDemo</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 初始化一个长度为4的String数组,两种初始化方式</span></span><br><span class="line">        String[] strArr1 = <span class="keyword">new</span> <span class="title class_">String</span>[]{<span class="string">"Amazing"</span>, <span class="string">"Java"</span>, <span class="string">"Container"</span>, <span class="string">"!"</span>};</span><br><span class="line">        String[] strArr2 = <span class="keyword">new</span> <span class="title class_">String</span>[<span class="number">4</span>];</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 下标访问为数组赋值，arraycopy方法</span></span><br><span class="line">        System.arraycopy(strArr1, <span class="number">0</span>, strArr2, <span class="number">0</span>, <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(Arrays.toString(strArr2));   <span class="comment">// [Amazing, Java, Container, !]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 修改元素的值</span></span><br><span class="line">        strArr2[<span class="number">0</span>] = <span class="string">"Plain"</span>;</span><br><span class="line">        System.out.println(Arrays.toString(strArr2));   <span class="comment">// [Plain, Java, Container, !]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 删除数组中的元素，假设删除 “Container”，需要手动移动后面的元素</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">2</span>; i &lt; strArr2.length - <span class="number">1</span>; i++) {</span><br><span class="line">            strArr2[i] = strArr2[i+<span class="number">1</span>];</span><br><span class="line">        }</span><br><span class="line">        strArr2[strArr2.length - <span class="number">1</span>] = <span class="literal">null</span>;</span><br><span class="line">        System.out.println(Arrays.toString(strArr2));   <span class="comment">// [Plain, Java, !, null]</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><code>ArrayList</code>：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayListDemo</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 初始化一个 String 类型的 ArrayList</span></span><br><span class="line">        ArrayList&lt;String&gt; strList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(Arrays.asList(<span class="string">"Amazing"</span>, <span class="string">"Java"</span>, <span class="string">"Container"</span>, <span class="string">"!"</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 添加元素到 ArrayList 中</span></span><br><span class="line">        strList.add(<span class="string">"Yeah"</span>);</span><br><span class="line">        System.out.println(strList);    <span class="comment">// [Amazing, Java, Container, !, Yeah]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 修改 ArrayList 中的元素</span></span><br><span class="line">        strList.set(<span class="number">0</span>, <span class="string">"Plain"</span>);</span><br><span class="line">        System.out.println(strList);    <span class="comment">// [Plain, Java, Container, !, Yeah]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 删除 ArrayList 中的元素</span></span><br><span class="line">        strList.remove(<span class="number">0</span>);</span><br><span class="line">        System.out.println(strList);    <span class="comment">// [Java, Container, !, Yeah]</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h3 id="ArrayList-v-s-Vector">ArrayList v.s. Vector</h3>
<ol>
<li>线程安全</li>
</ol>
<ul>
<li><code>ArrayList</code> 是 <code>List</code> 的主要实现类，底层使用 <code>Object[]</code>存储，适用于频繁的查找工作，线程不安全 。</li>
<li><code>Vector</code> 是线程安全的，它的方法都经过同步处理，可以在多线程环境中使用而无需额外的同步措施。然而，这也会导致 <code>Vector</code> 在性能上相对较慢，因为同步操作会带来额外的开销。</li>
</ul>
<ol start="2">
<li>扩容机制</li>
</ol>
<ul>
<li><code>ArrayList</code> 的扩容机制是不同步的，即在需要扩容时，它会创建一个新的数组，并将元素从旧数组复制到新数组。这可以在某些情况下导致不同步问题，但在单线程环境中通常性能较好。</li>
<li><code>Vector</code> 的扩容机制是同步的，确保只有一个线程可以进行扩容操作。这也可能导致性能问题，特别是在高度并发的情况下。</li>
</ul>
<p>此外，<code>Vector</code> 是Java早期版本提供的，它的设计考虑了线程安全，但在现代Java编程中，通常更推荐使用其他集合类，如 <code>ArrayList</code> 和 <code>Collections</code> 工具类，来处理线程安全问题。Vector通常被认为是一种遗留的数据结构。</p>
<h3 id="ArrayList插入和删除元素的时间复杂度">ArrayList插入和删除元素的时间复杂度</h3>
<ul>
<li>
<p><strong>头部插入/删除</strong></p>
<p>当在头部插入元素时，需要将现有的元素向后移动，以便为新元素腾出空间。这涉及到将所有元素都向后移动一个位置。</p>
<p>时间复杂度为：O(n)，其中n是ArrayList中的元素数量。</p>
</li>
<li>
<p><strong>尾部插入/删除</strong></p>
<p>在ArrayList的尾部插入元素是比较高效的，因为不需要移动其他元素。时间复杂度：平均情况为O(1)，即常数时间。</p>
<p>但在某些情况下，可能需要重新分配内部数组，如当内部数组的容量不足时，需要进行重新分配和复制元素的操作。这会引入O(n)的时间复杂度，其中n是ArrayList的容量。这种情况下会偶尔发生，大部分时间都是O(1)。</p>
</li>
<li>
<p><strong>指定位置插入/删除</strong></p>
<p>当在ArrayList的中间或指定位置插入元素时，需要将插入点之后的元素向后移动，以便为新元素腾出空间。时间复杂度平均情况为O(n)。</p>
</li>
</ul>
<h3 id="ArrayList源码浅析">ArrayList源码浅析</h3>
<p>前文提及，<code>ArrayList</code> 的底层是数组队列，实现了一个动态数组。与 Java 中的数组相比，它的容量能动态增长。在添加大量元素前，应用程序可以使用<code>ensureCapacity</code>操作来增加 <code>ArrayList</code> 实例的容量。</p>
<h4 id="实现与继承关系">实现与继承关系</h4>
<p><code>ArrayList</code> 继承于 <code>AbstractList</code> ，实现了 <code>List</code>, <code>RandomAccess</code>, <code>Cloneable</code>, <code>java.io.Serializable</code> 这些接口。可参考 JDK 源码：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayList</span>&lt;E&gt; <span class="keyword">extends</span> <span class="title class_">AbstractList</span>&lt;E&gt;</span><br><span class="line">        <span class="keyword">implements</span> <span class="title class_">List</span>&lt;E&gt;, RandomAccess, Cloneable, java.io.Serializable</span><br></pre></td></tr></tbody></table></figure>
<p>具体类的实现、继承关系可视化如下图。</p>
<p><img src="https://typora-1308640872.cos.ap-beijing.myqcloud.com/img/ArrayList%E7%B1%BB%E5%9B%BE.png" alt="ArrayList类图"></p>
<p>从定义中可以得出以下信息：</p>
<ul>
<li>
<p>指定了泛型类型参数 <code>E</code>，这表示 ArrayList 可以存储任意类型的对象。</p>
</li>
<li>
<p>实现了 List 接口，这意味着它遵循 List 接口中定义的方法和行为。List 接口表示一个有序的集合，可以包含重复元素。</p>
</li>
<li>
<p>实现了 RandomAccess 接口，这是一个标记接口，用于指示 ArrayList 支持随机访问（通过索引访问元素）。由于 ArrayList 是一个动态数组，它能够以常数时间复杂度（O(1)）进行随机访问。</p>
</li>
<li>
<p>实现了 Cloneable 接口，这意味着可以使用 <code>clone()</code> 方法来创建 ArrayList 的副本。</p>
<blockquote>
<p><span class="github-emoji"><span>⚠</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/26a0.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> <code>clone()</code> 方法返回的是浅拷贝，所以元素本身不会被复制，只是引用会被复制。</p>
</blockquote>
</li>
<li>
<p>实现了 <code>Serializable</code> 接口，这使得它可以被序列化为字节流，以便在网络传输或保存到文件中。这允许将 ArrayList 对象持久化。</p>
</li>
</ul>
<h4 id="初始化方法-扩容机制">初始化方法&amp;扩容机制</h4>
<blockquote>
<p>推荐阅读这位大佬的文章：<a href="https://juejin.cn/post/7288963211071094842">我说ArrayList初始容量是10，面试官让我回去等通知</a>。</p>
</blockquote>
<p>ArrayList 给出了种初始化方法：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 默认初始容量大小</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">DEFAULT_CAPACITY</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 用于空实例的共享空数组实例。</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Object[] EMPTY_ELEMENTDATA = {};</span><br><span class="line"></span><br><span class="line"><span class="comment">// 共享的空数组实例,用于默认大小的空实例。 将其与EMPTY_ELEMENTDATA区分开来,便于了解当添加第一个元素时需要膨胀多少</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Object[] DEFAULTCAPACITY_EMPTY_ELEMENTDATA = {};</span><br><span class="line"></span><br><span class="line"><span class="comment">// // 存储元素的数组</span></span><br><span class="line"><span class="keyword">transient</span> Object[] elementData; <span class="comment">// 非私有以简化嵌套类访问</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 带初始容量参数的构造函数。（用户自己指定容量）</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">ArrayList</span><span class="params">(<span class="type">int</span> initialCapacity)</span> {</span><br><span class="line">        <span class="keyword">if</span> (initialCapacity &gt; <span class="number">0</span>) {</span><br><span class="line">            <span class="built_in">this</span>.elementData = <span class="keyword">new</span> <span class="title class_">Object</span>[initialCapacity];</span><br><span class="line">        } <span class="keyword">else</span> <span class="keyword">if</span> (initialCapacity == <span class="number">0</span>) {</span><br><span class="line">            <span class="built_in">this</span>.elementData = EMPTY_ELEMENTDATA;</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(<span class="string">"Illegal Capacity: "</span>+</span><br><span class="line">                                               initialCapacity);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 默认构造函数，使用初始容量10构造一个空列表(无参数构造)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">ArrayList</span><span class="params">()</span> {</span><br><span class="line">    <span class="built_in">this</span>.elementData = DEFAULTCAPACITY_EMPTY_ELEMENTDATA;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  *构造包含指定collection元素的列表，这些元素利用该集合的迭代器按顺序返回</span></span><br><span class="line"><span class="comment">  *如果指定的集合为null，throws NullPointerException。</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">ArrayList</span><span class="params">(Collection&lt;? extends E&gt; c)</span> {</span><br><span class="line">    Object[] a = c.toArray();</span><br><span class="line">    <span class="keyword">if</span> ((size = a.length) != <span class="number">0</span>) {</span><br><span class="line">        <span class="keyword">if</span> (c.getClass() == ArrayList.class) {</span><br><span class="line">            elementData = a;</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            elementData = Arrays.copyOf(a, size, Object[].class);</span><br><span class="line">        }</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        <span class="comment">// replace with empty array.</span></span><br><span class="line">        elementData = EMPTY_ELEMENTDATA;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>调用ArrayList的无参构造方法 <code>new ArraryList&lt;&gt;()</code> 的时候，只是初始化了一个空对象，并没有指定数组大小，所以初始容量是零。当真正对数组进行添加元素操作时，才真正分配容量。即向数组中添加第一个元素时，数组容量扩为 10。</p>
<h2 id="LinkedList">LinkedList</h2>
<h3 id="LinkedList-v-s-ArrayList">LinkedList v.s.  ArrayList</h3>
<table>
<thead>
<tr>
<th>对比维度</th>
<th>ArrayList</th>
<th>LinkedList</th>
</tr>
</thead>
<tbody>
<tr>
<td>内部实现</td>
<td>动态 <code>Object</code> 数组</td>
<td>双向链表</td>
</tr>
<tr>
<td>线程安全</td>
<td>不同步，线程不安全</td>
<td>不同步，线程不安全</td>
</tr>
<tr>
<td>插入删除操作</td>
<td>效率取决于操作位置</td>
<td>插入和删除操作通常更高效</td>
</tr>
<tr>
<td>随机访问</td>
<td>支持高效的随机访问</td>
<td>不支持高效的随机访问</td>
</tr>
<tr>
<td>空间开销</td>
<td>通常具有<strong>较小的</strong>空间开销</td>
<td>通常具有<strong>较大的</strong>空间开销</td>
</tr>
<tr>
<td>迭代</td>
<td>数组连续存储的性质，迭代更快</td>
<td>迭代较慢</td>
</tr>
</tbody>
</table>
<blockquote>
<ul>
<li>因为 <code>ArrayList</code>只需要存储<strong>元素</strong>和数组的一些<strong>元数据</strong>（如容量），空间浪费主要体现在在 list 列表的结尾会预留一定的容量空间；而 <code>LinkedList</code> 需要存储每个元素以及两个指向前一个和后一个元素的引用（指针），空间开销会比 <code>ArrayList</code> 大</li>
<li><code>LinkedList</code> 采用链表存储，所以在头尾插入或者删除元素不受元素位置的影响（<code>add(E e)</code>、<code>addFirst(E e)</code>、<code>addLast(E e)</code>、<code>removeFirst()</code>、 <code>removeLast()</code>），时间复杂度为 O(1)，如果是要在指定位置 <code>i</code> 插入和删除元素的话（<code>add(int index, E element)</code>，<code>remove(Object o)</code>,<code>remove(int index)</code>）， 时间复杂度为 O(n) ，因为需要先移动到指定位置再插入和删除。</li>
</ul>
</blockquote>
<h3 id="LinkedList源码浅析">LinkedList源码浅析</h3>
<h4 id="实现与继承关系-2">实现与继承关系</h4>
<p>JDK中 <code>LinkedList</code> 类的定义源码如下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LinkedList</span>&lt;E&gt;</span><br><span class="line">    <span class="keyword">extends</span> <span class="title class_">AbstractSequentialList</span>&lt;E&gt;</span><br><span class="line">    <span class="keyword">implements</span> <span class="title class_">List</span>&lt;E&gt;, Deque&lt;E&gt;, Cloneable, java.io.Serializable</span><br></pre></td></tr></tbody></table></figure>
<p><code>LinkedList</code> 继承了 <code>AbstractSequentialList</code> ，而 <code>AbstractSequentialList</code> 又继承于 <code>AbstractList</code> 。此外，<code>LinkedList</code> 实现了4个接口：<code>List</code>、<code>Deque</code>、<code>Cloneable</code>、<code>Serializable</code>。类图可视化为：</p>
<p><img src="https://typora-1308640872.cos.ap-beijing.myqcloud.com/img/LinkedList%E7%B1%BB%E5%9B%BE.png" alt="LinkedList类图"></p>
<p><code>LinkedList</code> 实现的接口中，<code>List</code>、<code>Cloneable</code>、<code>Serializable</code> 与ArrayList一样，不再赘述；</p>
<p>此外，<code>LinkedList</code> 实现了 <code>Deque</code> 接口，这是双端队列（Double-ended Queue）的接口，它表示具有队列和栈的行为。<code>LinkedList</code> 可以被用作队列和栈，支持在队列的两端进行插入和删除操作。</p>
<blockquote>
<p><code>LikedList</code> 作为栈和队列使用可参考：<a href="https://liangshoux.github.io/2023/10/16/2023-10-16-Java%E4%B8%AD%E7%9A%84%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/">Java中的栈与队列</a>。</p>
</blockquote>
<h4 id="元素定义">元素定义</h4>
<p><code>LinkedList</code> 中的元素是通过内部静态类 <code>Node</code> 定义的：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Node</span>&lt;E&gt; {</span><br><span class="line">        E item;</span><br><span class="line">        Node&lt;E&gt; next;</span><br><span class="line">        Node&lt;E&gt; prev;</span><br><span class="line"></span><br><span class="line">        Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) {</span><br><span class="line">            <span class="built_in">this</span>.item = element;</span><br><span class="line">            <span class="built_in">this</span>.next = next;</span><br><span class="line">            <span class="built_in">this</span>.prev = prev;</span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>
<h4 id="初始化方法">初始化方法</h4>
<p><code>LinkedList</code> 中有设计了两种构造方法：一个无参构造函数、一个有参构造函数，具体源码为：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建一个空的链表对象</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">LinkedList</span><span class="params">()</span> {</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 接收一个集合类型作为参数，会创建一个与传入集合相同元素的链表对象</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">LinkedList</span><span class="params">(Collection&lt;? extends E&gt; c)</span> {</span><br><span class="line">    <span class="built_in">this</span>();</span><br><span class="line">    addAll(c);</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<ul>
<li><code>this()</code> 表明在有参构造时，调用了类的另一个构造函数，即无参数构造函数。这意味着在创建 LinkedList 对象时，首先会调用无参数构造函数来初始化对象。</li>
<li><code>addAll</code> 方法是类内实现的方法，作用为将集合 <code>c</code> 中的元素添加到当前 <code>LinkedList</code> 对象中。</li>
</ul>
</blockquote>
<h4 id="常用方法总结">常用方法总结</h4>
<table>
<thead>
<tr>
<th>操作</th>
<th>方法</th>
<th>简述</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>插入</td>
<td><code>add(E e)</code></td>
<td>在尾部插入元素</td>
<td><code>linkLast(E e)</code></td>
</tr>
<tr>
<td></td>
<td><code>add(int index, E element)</code></td>
<td>在指定位置插入元素</td>
<td><code>linkLast(E e)</code> &amp; <code>linkBefore(E e, Node&lt;E&gt; succ)</code></td>
</tr>
<tr>
<td>获取元素</td>
<td><code>getFirst()</code></td>
<td>获取链表的第一个元素</td>
<td><code>LinkedList.first</code></td>
</tr>
<tr>
<td></td>
<td><code>getLast()</code></td>
<td>获取链表的最后一个元素</td>
<td><code>LinkedList.last</code></td>
</tr>
<tr>
<td></td>
<td><code>get(int index)</code></td>
<td>获取链表指定位置的元素</td>
<td><code>node&lt;index&gt;</code></td>
</tr>
<tr>
<td>删除元素</td>
<td><code>removeFirst()</code></td>
<td>删除并返回链表的第一个元素</td>
<td><code>unlinkFirst&lt;Node&lt;E&gt;&gt;</code></td>
</tr>
<tr>
<td></td>
<td><code>removeLast()</code></td>
<td>删除并返回链表的最后一个元素</td>
<td><code>unlinkLast&lt;Node&lt;E&gt;&gt;</code></td>
</tr>
<tr>
<td></td>
<td><code>remove(E e)</code></td>
<td>删除链表中首次出现的指定元素，如果不存在该元素则返回 false</td>
<td><code>unlink&lt;Node&lt;E&gt;&gt;</code></td>
</tr>
<tr>
<td></td>
<td><code>remove(int index)</code></td>
<td>删除指定索引处的元素，并返回该元素的值</td>
<td><code>unlink&lt;Node&lt;E&gt;&gt;</code></td>
</tr>
<tr>
<td></td>
<td><code>void clear()</code></td>
<td>移除此链表中的所有元素</td>
<td></td>
</tr>
<tr>
<td>迭代器</td>
<td><code>ListItr</code></td>
<td>实现了<code>ListIterator&lt;E&gt;</code>接口，是能够使用<code>for-each</code>遍历的核心</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="demo">demo</h4>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LinkedListDemo</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 创建 LinkedList 对象</span></span><br><span class="line">        LinkedList&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 添加元素到链表末尾</span></span><br><span class="line">        list.add(<span class="string">"apple"</span>);</span><br><span class="line">        list.add(<span class="string">"banana"</span>);</span><br><span class="line">        list.add(<span class="string">"pear"</span>);</span><br><span class="line">        System.out.println(<span class="string">"链表内容："</span> + list);     <span class="comment">// [apple, banana, pear]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 在指定位置插入元素</span></span><br><span class="line">        list.add(<span class="number">1</span>, <span class="string">"orange"</span>);</span><br><span class="line">        System.out.println(<span class="string">"链表内容："</span> + list);     <span class="comment">// [apple, orange, banana, pear]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 获取指定位置的元素</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">fruit</span> <span class="operator">=</span> list.get(<span class="number">2</span>);</span><br><span class="line">        System.out.println(<span class="string">"索引为 2 的元素："</span> + fruit);   <span class="comment">// banana</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 修改指定位置的元素</span></span><br><span class="line">        list.set(<span class="number">3</span>, <span class="string">"grape"</span>);</span><br><span class="line">        System.out.println(<span class="string">"链表内容："</span> + list);     <span class="comment">// [apple, orange, banana, grape]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 删除指定位置的元素</span></span><br><span class="line">        list.remove(<span class="number">0</span>);</span><br><span class="line">        System.out.println(<span class="string">"链表内容："</span> + list);     <span class="comment">// [orange, banana, grape]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 删除第一个出现的指定元素</span></span><br><span class="line">        list.remove(<span class="string">"banana"</span>);</span><br><span class="line">        System.out.println(<span class="string">"链表内容："</span> + list);     <span class="comment">// [orange, grape]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 获取链表的长度</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> list.size();</span><br><span class="line">        System.out.println(<span class="string">"链表长度："</span> + size);     <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 清空链表</span></span><br><span class="line">        list.clear();</span><br><span class="line">        System.out.println(<span class="string">"清空后的链表："</span> + list);   <span class="comment">// []</span></span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="Vector-Stack">Vector &amp; Stack</h2>
<p>可参考：<a href="https://liangshoux.github.io/2023/10/16/2023-10-16-Java%E4%B8%AD%E7%9A%84%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/">Java中的栈与队列</a></p>
<h1>Set</h1>
<p>Set在数学中是集合的意思，<code>Set</code>接口组织数据的特点是<strong>注重独一无二的性质</strong>，存储的元素不可重复的。</p>
<h2 id="底层数据结构-2">底层数据结构</h2>
<ul>
<li>
<p><code>HashSet</code>：HashSet 的特点是<strong>无序性</strong>和<strong>唯一性</strong>，底层采用了<code>HashMap</code>来存储数据。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">transient</span> HashMap&lt;E,Object&gt; map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Object</span> <span class="variable">PRESENT</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br></pre></td></tr></tbody></table></figure>
</li>
<li>
<p><code>LinkedHashSet</code>：HashSet的子类，内部实现通过<code>LinkedHashMap</code>，通过<code>supper</code>调用父类的构造方法，HashSet中定义的源码为：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">HashSet(<span class="type">int</span> initialCapacity, <span class="type">float</span> loadFactor, <span class="type">boolean</span> dummy) {</span><br><span class="line">        map = <span class="keyword">new</span> <span class="title class_">LinkedHashMap</span>&lt;&gt;(initialCapacity, loadFactor);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
</li>
<li>
<p><code>TreeSet</code>：区别于<code>HashSet</code>，TreeSet的特点是<strong>有序</strong>且<strong>唯一</strong>的，底层采用了红黑树的数据结构实现。实际上，JDK17中，TreeSet类实现的是<code>NavigableMap</code> 接口，而后者继承了<code>SortedMap</code>接口。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// TreeSet类</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeSet</span>&lt;E&gt; <span class="keyword">extends</span> <span class="title class_">AbstractSet</span>&lt;E&gt;</span><br><span class="line">    <span class="keyword">implements</span> <span class="title class_">NavigableSet</span>&lt;E&gt;, Cloneable, java.io.Serializable</span><br><span class="line">    </span><br><span class="line"><span class="comment">// NavigableSet接口</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">NavigableMap</span>&lt;K,V&gt; <span class="keyword">extends</span> <span class="title class_">SortedMap</span>&lt;K,V&gt;</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
<h2 id="HashSet">HashSet</h2>
<h2 id="LinkedHashSet">LinkedHashSet</h2>
<h2 id="TreeSet">TreeSet</h2>
<h1>Queue</h1>
<p>Queue（队列）中，按特定的排队规则来确定先后顺序，存储的元素是有序的、可重复的。</p>
<h2 id="底层数据结构-3">底层数据结构</h2>
<ul>
<li><code>PriorityQueue</code>：底层是使用 <code>Object[]</code> 数组来实现小顶堆。</li>
<li><code>DelayQueue</code>：<code>PriorityQueue</code>。</li>
<li><code>ArrayDeque</code>:：可扩容动态双向数组。</li>
</ul>
<h1>Map</h1>
<p>使用键值对（key-value）存储，类似于数学上的函数的一个key对应唯一value的关系，key 是无序的、不可重复的，value 是无序的、可重复的，每个键最多映射到一个值。</p>
<h2 id="底层数据结构-4">底层数据结构</h2>
<p><code>HashMap</code>：JDK1.8 之前 <code>HashMap</code> 由数组+链表组成的，数组是 <code>HashMap</code> 的主体，链表则是主要为了解决哈希冲突而存在的（“拉链法”解决冲突）。JDK1.8 以后在解决哈希冲突时有了较大的变化，当链表长度大于阈值（默认为 8）（将链表转换成红黑树前会判断，如果当前数组的长度小于 64，那么会选择先进行数组扩容，而不是转换为红黑树）时，将链表转化为红黑树，以减少搜索时间。</p>
<p><code>LinkedHashMap</code>：<code>LinkedHashMap</code> 继承自 <code>HashMap</code>，所以它的底层仍然是基于拉链式散列结构即由数组和链表或红黑树组成。另外，<code>LinkedHashMap</code> 在上面结构的基础上，增加了一条双向链表，使得上面的结构可以保持键值对的插入顺序。同时通过对链表进行相应的操作，实现了访问顺序相关逻辑。</p>
<p><code>Hashtable</code>：数组+链表组成的，数组是 <code>Hashtable</code> 的主体，链表则是主要为了解决哈希冲突而存在的。</p>
<p><code>TreeMap</code>：红黑树（自平衡的排序二叉树）。</p>

      
    </div>
    <div class="article-footer">
      


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="https://github.com/LiangshouX" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/avatar.jpg" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="https://github.com/LiangshouX" target="_blank"><span class="text-dark">Liangshou</span><small class="ml-1x">软件 &amp; IT</small></a></h3>
        <div>个人简介。</div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    
  <section id="comments">
  	
      <div id="vcomments"></div>
    
  </section>


  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/2023/10/21/2023-10-21-hexo%E9%83%A8%E7%BD%B2%E7%9A%84%E9%A1%B5%E9%9D%A2%E4%B8%8D%E6%94%AF%E6%8C%81emoji%E8%A1%A8%E6%83%85%E7%9A%84%E9%97%AE%E9%A2%98/" title="hexo渲染的页面不支持emoji表情"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;上一篇</span></a>
    </li>
    
    
    <li class="next">
      <a href="/2023/10/19/2023-10-19-%E6%88%91%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84Java%E5%B8%B8%E8%AF%86/" title="Java 常识？我咋不知道"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
    <li class="toggle-toc">
      <a class="toggle-btn " data-toggle="collapse" href="#collapseToc" aria-expanded="false" title="文章目录" role="button">    <span>[&nbsp;</span><span>文章目录</span>
        <i class="text-collapsed icon icon-anchor"></i>
        <i class="text-in icon icon-close"></i>
        <span>]</span>
      </a>
    </li>
    
  </ul>
  
  
  
  <div class="bar-right">
    
    <div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,qzone"></div>
    
  </div>
  </div>
</nav>
  


</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/LiangshouX" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="/xiaoliangshou.bit@gmail.com" target="_blank" title="Email" data-toggle=tooltip data-placement=top><i class="icon icon-email"></i></a></li>
        
        <li><a href="https://juejin.cn/user/3664001491278077" target="_blank" title="Juejin" data-toggle=tooltip data-placement=top><i class="icon icon-juejin"></i></a></li>
        
        <li><a href="https://www.zhihu.com/people/grillo-72" target="_blank" title="Zhihu" data-toggle=tooltip data-placement=top><i class="icon icon-zhihu"></i></a></li>
        
    </ul>

    
        <script src='https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js'></script>
        <script>
          if (window.mermaid) {
            mermaid.initialize({theme: 'forest'});
          }
        </script>
    
    <div class="copyright">
    	
        <div class="publishby">
        	Theme by <a href="https://github.com/LiangshouX" target="_blank"> Liangshou </a>base on <a href="https://github.com/cofess/hexo-theme-pure" target="_blank">pure</a>.
        </div>
    </div>
</footer>
  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>

<script src="/js/plugin.min.js"></script>


<script src="/js/application.js"></script>


    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>






   
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





   
    
  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/valine"></script>
  <script type="text/javascript">
  var GUEST = ['nick', 'mail', 'link'];
  var meta = 'nick,mail,link';
  meta = meta.split(',').filter(function(item) {
    return GUEST.indexOf(item) > -1;
  });
  new Valine({
    el: '#vcomments',
    verify: false,
    notify: false,
    appId: '',
    appKey: '',
    placeholder: 'Just go go',
    avatar: 'mm',
    meta: meta,
    pageSize: '10' || 10,
    visitor: false
  });
  </script>

     







</body>
</html>